<div class="container">
<nav class="navbar navbar-inverse">
        <div class="navbar-header">
            <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="#" class="navbar-brand">{{vm.user.UserName}}'s Finance Portfolio</a>
        </div>
        <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#"></a></li>
                <li><a href="#"></a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#!/login">Logout</a></li>
            </ul>
        </div>
    </nav>
    <br>
    <br>
    <div class="row">
        <div class="col-lg-12">
            <div class="input-group">
                <input placeholder="Please enter a ticker name to add it to your portfolio" type="text" name="Addtickersymbol" id="addTickerSymbol" list="myList" class="form-control dropdown dropdown-scroll inputStyle" ng-model="vm.AddTickerSymbolName">
                <datalist id="myList" class="dataListWidth">
                    <option ng-click="vm.setInputValue(result)" ng-repeat="result in vm.tickerSymbols | filter : vm.AddTickerSymbolName" value={{result.ticker}}></option>
                </datalist>  
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-primary btn-lg active" ng-disabled = "!vm.AddTickerSymbolName" ng-click="vm.addTickerSymbols()" >Add New Ticker</button>
                </span>
            </div>
        </div>
    </div>
    <br>
    <br>
    <div class="row">
      <div class="col-md-3">
        <div class="input-group input-group-lg add-on">
          <input type="text" class="form-control search-query pull-right" ng-model="vm.search" placeholder="Search">
          <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
          </div>
        </div>
      </div>
      <div class="col-md-6">
      </div>
      <div class="col-md-3">
        <select class="form-control input-lg pull-right" ng-model="vm.itemsPerPage" ng-change="vm.perPage()" ng-options="('show '+size+' per page') for size in vm.pageSizes"></select>
      </div>
    </div>
    <br>
    <table class="table table-striped table-hover" id="myTable">
      <tbody>
        <thead class="thead-dark">
        <tr>
        <th class="description" title="non-sortable">#</th>
        <th class="description"><a ng-click="vm.sort_by('longName')">Name <i class="fa fa-sort"></i></a></th>
        <th class="description"><a ng-click="vm.sort_by('ticker')">Ticker <i class="fa fa-sort"></i></a></th>
        <th class="description"><a ng-click="vm.sort_by('Market Cap')">Market Cap <i class="fa fa-sort"></i></a></th>
        <th class="description"><a ng-click="vm.sort_by('regularMarketPrice')">Price <i class="fa fa-sort"></i></a></th>
        <th class="description"><a ng-click="vm.sort_by('Volume')">Volume <i class="fa fa-sort"></i></a></th>
        <th class="description"><a ng-click="vm.sort_by('RegularMarketChangePercent')">Change <i class="fa fa-sort"></i></a></th>
        <th class="description" title="non-sortable">Delete</th>
      </tr>
      </thead>
        <tr data-dir-paginate-start="data in vm.UserTickerSymbols | orderBy:vm.predicate:vm.reverse | filter:vm.search | itemsPerPage: vm.itemsPerPage"  ng-click="vm.isToggled($index)" ng-hide="vm.showDetails == $index" style="cursor:pointer;">
          <th scope="row">{{$index + 1}}</th>
          <td>{{data.longName}}</td>
          <td>{{data.ticker}}</td>
          <td>{{data["Market Cap"]}}</td>
          <td>{{data.regularMarketPrice | number:2}}</td>
          <td>{{data.Volume}}</td>
          <td ng-class="{errorColor: (data.RegularMarketChangePercent.slice(0, -1)/100 < 0), successColor: (data.RegularMarketChangePercent.slice(0, -1)/100 > 0)}">{{data.RegularMarketChangePercent}}</td>
          <td>
            <button type="submit" ng-click="vm.deleteTickerSymbols(data.ticker)" class="fabutton">
                <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
            </button>
         </td>
        </tr>
        <tr data-dir-paginate-end ng-show="vm.showDetails == $index"  ng-click="vm.isToggled($index)" id="{{data.TickerSymbolId}}" style="cursor:pointer;">
            <td colspan="1">{{$index + 1}}</td>
             <td>
              <label></label><br><br>
              <label>Name</label><br>{{data.longName}}<br><br>
              <label>Bid</label><br>{{data.Bid}}<br><br>
              <label>Ask</label><br>{{data.Ask}}<br><br>
              <label>Active</label><br>{{data.Active}}<br><br>
            </td>
            <td colspan="2">
              <label></label><br><br>
              <label>Ticker Symbol</label><br>{{data.ticker}}<br><br>
              <label>Market Cap</label><br>{{data["Market Cap"]}}<br><br>
              <label>Volume</label><br>{{data.Volume}}<br><br>
              <label>Avg. Volume</label><br>{{data["Avg. Volume"]}}<br><br>
            </td>
             <td colspan="2">
              <label></label><br><br>
              <label>Ticker ID</label><br>{{data.TickerSymbolId}}<br><br>
              <label>Previous Close</label><br>{{data["Previous Close"]}}<br><br>
              <label>Open</label><br>{{data.Open | number:2}}<br><br>
              <label>Earnings Date</label><br>{{data["Earnings Date"]}}<br><br>
            </td>
            <td colspan="2"> 
              <label></label><br><br>
              <label>Price</label><br>{{data.regularMarketPrice}}<br><br>
              <label>Change</label><br>{{data.RegularMarketChange | number:2}}<br><br>
              <label>Change Percentage</label><br><span ng-class="{errorColor: (data.RegularMarketChangePercent.slice(0, -1)/100 < 0), successColor: (data.RegularMarketChangePercent.slice(0, -1)/100 > 0)}">{{data.RegularMarketChangePercent}}</span><br><br>
              <label>52 Week Range</label><br>{{data["52 Week Range"]}}<br><br>
            </td>
        </tr>
      </tbody>
      <tfoot>
    </tfoot>
    </table>
     <dir-pagination-controls
       max-size="5"
       direction-links="true"
       boundary-links="true" >
    </dir-pagination-controls>
    <hr>
</div>